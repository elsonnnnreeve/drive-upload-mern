(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),r=a(7),c=a.n(r),o=(a(17),a(18),a(27));a(19),a(20);var s=()=>{const[e,t]=Object(l.useState)([]),[a,r]=Object(l.useState)(""),[c,s]=Object(l.useState)(""),[m,u]=Object(l.useState)(""),[i,d]=Object(l.useState)("Select Files"),[b,p]=Object(l.useState)(""),[E,f]=Object(l.useState)(""),[g,h]=Object(l.useState)(null),[v,y]=Object(l.useState)(""),N=Object(l.useRef)(null);Object(l.useEffect)(()=>{o.a.get("http://localhost:3001/getUsers").then(e=>{t(e.data)})},[]);return n.a.createElement("div",{className:"body"},b&&n.a.createElement("div",{className:"position-absolute top-80 start-50 translate-middle-x"},n.a.createElement("div",{className:"alert ".concat("green"===E?"alert-success":"alert-danger"," text-center")},b)),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"container-sm p-3 my-5 mx-auto border text-center row w-25 rounded custom-layout"},n.a.createElement("h2",{className:"h2"},"Enter Student details:"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("form",{onSubmit:async l=>{l.preventDefault(),f("red");const n=new FormData;n.append("name",a),n.append("age",c),n.append("gender",m),n.append("file",g);try{const l=(await o.a.post("http://localhost:3001/upload",n,{headers:{"Content-Type":"multipart/form-data"}})).data.id;y(l),t([...e,{name:a,age:c,gender:m,id:l}]),p("Successfully uploaded to drive and saved in backend"),f("green"),r(""),s(""),u(""),d("Select Files"),h(null),N.current&&(N.current.value=null),setTimeout(()=>{p(""),f("")},5e3)}catch(i){"Error uploading file to Drive: Insufficient storage quota on Google Drive. Unable to upload file."===i.message?(p("File size exceeds storage limit. Please upload a smaller file."),console.log("File size exceeds storage limit. Please upload a smaller file.",i.response)):(p("Not uploaded to drive or backend"),console.log("Couldn't upload to drive or backend",i)),setTimeout(()=>{p(""),f("")},5e3)}}},n.a.createElement("input",{className:"col form-control form-control-sm",type:"text",placeholder:"Name..",value:a,onChange:e=>r(e.target.value)}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{className:"col form-control form-control-sm",type:"number",placeholder:"Age..",value:c,onChange:e=>s(e.target.value)}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("select",{className:"col form-select form-select-sm",value:m,onChange:e=>u(e.target.value)},n.a.createElement("option",{value:""},"Select Gender.."),n.a.createElement("option",{value:"m"},"Male"),n.a.createElement("option",{value:"f"},"Female"),n.a.createElement("option",{value:"o"},"Other")),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("input",{className:"col text-center form-control form-control-sm",type:"file",id:"fileInput",onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=e.target.files[0];h(t),d(t.name)}else d("Select Files")},ref:N,multiple:!0}),n.a.createElement("br",null),n.a.createElement("label",{className:"col",hidden:!0,htmlFor:"fileInput"},i),n.a.createElement("span",{className:"alert ".concat("red"===E?" spinner-grow text-primary spinner-grow-sm":""," ")}),n.a.createElement("br",null),n.a.createElement("button",{className:"btn btn-outline-primary btn-sm",type:"submit",id:"myButton",style:{backgroundColor:E}},"Submit"))),n.a.createElement("span",{className:"text-center"},v&&n.a.createElement("p",null,n.a.createElement("a",{href:v,className:"btn btn-info btn-sm",target:"_blank",rel:"noopener noreferrer"},"Preview of the recently uploaded file")),n.a.createElement("br",null),n.a.createElement("br",null)),n.a.createElement("div",{className:"d-flex justify-content-center mt-4 "},n.a.createElement("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"collapse","data-bs-target":"#demo"},"STUDENTS"),n.a.createElement("span",{id:"demo",className:"collapse"},n.a.createElement("table",{className:"table table-responsive-sm table-bordered text-center table-sm table-hover table-striped table-container "},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Age"),n.a.createElement("th",null,"Gender"),n.a.createElement("th",null,"URL"))),n.a.createElement("tbody",null,e.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.age),n.a.createElement("td",null,e.gender),n.a.createElement("td",null,n.a.createElement("a",{href:e.id,rel:"noopener noreferrer",target:"_blank"},e.id)))))))))};c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(s,null)))},8:function(e,t,a){e.exports=a(25)}},[[8,1,2]]]);
//# sourceMappingURL=main.f7bccd54.chunk.js.map